YUI.add("flickr-getty-search-fetcher",(function(e,r){"use strict";e.namespace("ModelFetchers")["flickr-getty-search"]={run:function(o,a){var t=this,s=this._processParams(o,a);return e.Promise.all([a.callAPI("flickr.getty.affiliate.search",s),a.getModelRegistry("getty-search-models")]).then((function(e){return t._processResponse(e,o,a)}),e.FetcherErrorLogger(r))},_processParams:function(e){var r={search_phrase:e.searchTerm,color:e.color,orientations:e.orientations,accept_language:e.language,gi_country_code:e.countryCode,page_size:e.pageSize};return e.photoId&&(r.photo_id=e.photoId),r},_processResponse:function(e,r){var o=e[0],a=e[1],t={images:o.images,searchTerm:r.searchTerm,color:r.color,orientations:r.orientations,language:r.language,countryCode:r.countryCode,photoId:r.photoId,searchPhrase:o.searchPhrase,pageSize:r.pageSize};return a.addOrUpdate(t),o}}}),"@VERSION@",{requires:["flickr-promise","api-helper"],optional:[]});YUI.add("getty-search-models",(function(e){function r(e){r.superclass.constructor.call(this,e)}e.Models[this.name]=r,e.extend(r,e.FlickrModelRegistry,{name:this.name,remote:{read:function(r){return e.ModelFetchers["flickr-getty-search"].run(r,this.appContext)}},attributes:{images:{},searchTerm:{},photoId:{},color:{},orientations:{},language:{},countryCode:{},searchPhrase:{},pageSize:{}}})}),"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-getty-search-fetcher"]});YUI.add("getty-widget-view",(function(e,t){var i=new e.SubscriptionsHelper,s=require("justified-layout"),a=require("hermes-core/flog")(t);e.namespace("Views")["getty-widget-view"]=e.Base.create("getty-widget-view",e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(t){this.justifiedLayout=s,this.params=t,this.widgetType=this.params.type,this.widgetInPhotoList=this.params.inList,this.searchTerm=this.getSearchTerm(),this.geo=this.params.geo,this.iStockLogoLocation=e.config.flickr.urls.assetRoot+"/images/getty/IStock_corporate_logo.svg",this.currentUrl=YUI.Env.isServer?this.appContext.request.url:e.url()+this.appContext.flapp.getPath(),this.countryCode=null,this.widgetIsInView=!1,this.widgetIsLoaded=!1,this.widgetLoadEventListener,this.bottom,this.apiFailed,this.randomClasses=YUI.Env.isServer?this.appContext.request.randomClasses:e.config.flickr.randomClasses,this.resizeThrottle=300,this.gettyWidgetId,this.gettyImages,this.gettyFlickrDiscountCode=this.intlHTMLMessage({intlName:"common.GETTY_FLICKR_20_DISCOUNT"}),this.types={searchPage:{searchTerm:this.searchTerm,layoutSpacing:4,layoutRowHeight:140,layoutRowHeightTolerance:0,layoutMaxAr:2,snowPlowLabel:"getty-search",rowCount:1,typeClass:"search-page",viewMoreFlipper:"enable-getty-view-more-search",utmOptions:{promo:{campaign:this.widgetInPhotoList?`srp_photos_${this.getPositionalTag()}`:"srp_photos_top",term:this.searchTerm,pageUrl:this.currentUrl,originalURL:"https://www.istockphoto.com/plans-and-pricing"},viewMore:{campaign:"srp_photos_viewmore",term:this.searchTerm,pageUrl:this.currentUrl,originalURL:"https://www.istockphoto.com/search/2/image",extraParams:`?mediatype=photography&phrase=${this.searchTerm}`},imageAsset:{campaign:this.widgetInPhotoList?`srp_photos_${this.getPositionalTag()}`:"srp_photos_top",term:this.searchTerm,pageUrl:this.currentUrl,originalURL:""}}},photoPage:{searchTerm:"adventure",layoutSpacing:4,layoutRowHeight:this.params.sidebar?100:120,layoutRowHeightTolerance:0,layoutMaxAr:2,snowPlowLabel:"getty-photopage",layoutContainerWidth:this.params.sidebar?300:500,rowCount:2,typeClass:"photo-page",viewMoreFlipper:"enable-getty-view-more-photo",utmOptions:{promo:{campaign:"adp_photos_sponsored",term:this.searchTerm,pageUrl:this.currentUrl,originalURL:"https://www.istockphoto.com/plans-and-pricing"},viewMore:{campaign:"adp_photos_viewmore",term:this.searchTerm,pageUrl:this.currentUrl,originalURL:"https://www.istockphoto.com/search/2/image",extraParams:""},imageAsset:{campaign:"adp_photos_sponsored",term:this.searchTerm,pageUrl:this.currentUrl,originalURL:""}}},trendTagsPage:{searchTerm:"nature",layoutSpacing:4,layoutRowHeight:200,layoutRowHeightTolerance:0,layoutMaxAr:1,snowPlowLabel:"getty-trend-tags-page",rowCount:1,typeClass:"default-widget-page",viewMoreFlipper:"enable-getty-view-more-search",utmOptions:{promo:{campaign:"Trending_photos_sponsored",term:this.searchTerm,pageUrl:this.currentUrl,originalURL:"https://www.istockphoto.com/plans-and-pricing"},viewMore:{campaign:"Trending_photos_viewmore",term:this.searchTerm,pageUrl:this.currentUrl,originalURL:"https://www.istockphoto.com/search/2/image",extraParams:`?mediatype=photography&phrase=${this.searchTerm}`},imageAsset:{campaign:"Trending_photos_sponsored",term:this.searchTerm,pageUrl:this.currentUrl,originalURL:""}}},explorePage:{searchTerm:"nature",layoutSpacing:4,layoutRowHeight:200,layoutRowHeightTolerance:0,layoutMaxAr:1,snowPlowLabel:"getty-explore-page",rowCount:1,typeClass:"default-widget-page",viewMoreFlipper:"enable-getty-view-more-search",utmOptions:{promo:{campaign:"Explore_photos_sponsored",term:this.searchTerm,pageUrl:this.currentUrl,originalURL:"https://www.istockphoto.com/plans-and-pricing"},viewMore:{campaign:"Explore_photos_viewmore",term:this.searchTerm,pageUrl:this.currentUrl,originalURL:"https://www.istockphoto.com/search/2/image",extraParams:`?mediatype=photography&phrase=${this.searchTerm}`},imageAsset:{campaign:"Explore_photos_sponsored",term:this.searchTerm,pageUrl:this.currentUrl,originalURL:""}}},tagsPage:{searchTerm:this.searchTerm,layoutSpacing:4,layoutRowHeight:200,layoutRowHeightTolerance:0,layoutMaxAr:1,snowPlowLabel:"getty-tags-page",rowCount:1,typeClass:"default-widget-page",viewMoreFlipper:"enable-getty-view-more-search",utmOptions:{promo:{campaign:"Tags_photos_sponsored",term:this.searchTerm,pageUrl:this.currentUrl,originalURL:"https://www.istockphoto.com/plans-and-pricing"},viewMore:{campaign:"Tags_photos_viewmore",term:this.searchTerm,pageUrl:this.currentUrl,originalURL:"https://www.istockphoto.com/search/2/image",extraParams:`?mediatype=photography&phrase=${this.searchTerm}`},imageAsset:{campaign:"Tags_photos_sponsored",term:this.searchTerm,pageUrl:this.currentUrl,originalURL:""}}}},this.utmTrackingOptions=this.getUtmOptions(),this.params.geo&&this.params.geo.countryCode?this.countryCode=this.params.geo.countryCode:e.config.flickr.geo&&e.config.flickr.geo.countryCode&&(this.countryCode=e.config.flickr.geo.countryCode),this.params.sidebar&&this.appContext.adManager.userCanViewPhotoPageSidebar()&&(this.widgetIsInView=!0,this.widgetIsLoaded=!0)},getSearchTerm:function(){return"searchPage"===this.widgetType?this.params.searchTerm:"photoPage"===this.widgetType?"adventure":"trendTagsPage"===this.widgetType||"explorePage"===this.widgetType?"nature":"tagsPage"===this.widgetType?this.params.tag:void 0},getUtmOptions:function(){return this.types[this.widgetType].utmOptions},getPhotoPageState:function(){if(!YUI.Env.isServer&&this.widgetIsInView&&this.appContext.adManager.canShowAd(this.photoModel)){var t=this;return t.appContext.getModel("getty-search-models",{photoId:t.params.photoId,language:t.appContext.gettyHelper.getCorrectLangFormat(),countryCode:t.countryCode}).then((t=>(this.gettyModel=t,this.apiFailed=!1,this.updateSearchTerm(),e.Snowplough&&e.Snowplough.sendStructuredEvent({category:this.searchTerm,action:"gettyResultsLoad",label:this.types[this.widgetType].snowPlowLabel}),{registryName:"getty-search-models",modelId:t.id}))).catch((i=>{t.apiFailed=!0,e.Snowplough&&e.Snowplough.sendStructuredEvent({category:t.searchTerm,action:"gettyResultsFail",label:this.types[this.widgetType].snowPlowLabel}),a.error("Error with fetching getty-search-models",{err:i})}))}return e.Promise.resolve()},updateSearchTerm:function(){this.searchTerm=this.gettyModel.getValue("searchPhrase"),this.utmTrackingOptions.promo.term=this.searchTerm,this.utmTrackingOptions.imageAsset.term=this.searchTerm,this.utmTrackingOptions.viewMore.term=this.searchTerm,this.utmTrackingOptions.viewMore.extraParams=`?mediatype=photography&phrase=${this.searchTerm}`},getSearchState:function(){return this.appContext.getModel("getty-search-models",{searchTerm:this.searchTerm,color:this.appContext.gettyHelper.getSearchColorHex(this.params),orientations:this.appContext.gettyHelper.getSearchOrientation(this.params),language:this.appContext.gettyHelper.getCorrectLangFormat(),countryCode:this.countryCode,pageSize:50}).then((t=>(this.gettyModel=t,this.apiFailed=!1,e.Snowplough&&e.Snowplough.sendStructuredEvent({category:this.searchTerm,action:"gettyResultsLoad",label:this.types[this.widgetType].snowPlowLabel}),{registryName:"getty-search-models",modelId:t.id}))).catch((t=>{this.apiFailed=!0,e.Snowplough&&e.Snowplough.sendStructuredEvent({category:this.searchTerm,action:"gettyResultsFail",label:this.types[this.widgetType].snowPlowLabel}),a.error("Error with fetching getty-search-models",{err:t})}))},getDefaultWidgetState:function(){return this.appContext.getModel("getty-search-models",{searchTerm:this.searchTerm,language:this.appContext.gettyHelper.getCorrectLangFormat(),countryCode:this.countryCode}).then((t=>(this.gettyModel=t,this.apiFailed=!1,e.Snowplough&&e.Snowplough.sendStructuredEvent({category:this.params.searchTerm,action:"gettyResultsLoad",label:this.types[this.widgetType].snowPlowLabel}),{registryName:"getty-search-models",modelId:t.id}))).catch((t=>{this.apiFailed=!0,e.Snowplough&&e.Snowplough.sendStructuredEvent({category:this.params.searchTerm,action:"gettyResultsFail",label:this.types[this.widgetType].snowPlowLabel}),a.error("Error with fetching getty-search-models",{err:t})}))},loadState:function(){let e,t,i=this;return"searchPage"===this.widgetType?e=this.getSearchState:"photoPage"===this.widgetType?e=this.getPhotoPageState:["trendTagsPage","explorePage","tagsPage"].includes(this.widgetType)&&(e=this.getDefaultWidgetState),t=this.params.photoId?this.appContext.getModel("photo-models",this.params.photoId).then((function(e){e&&(i.photoModel=e)})):Promise.resolve(),t.then((()=>e.bind(i).apply().then((e=>{e&&(i.gettyWidgetId=i.appContext.gettyHelper.cacheWidget(e.registryName,e.modelId,i.gettyModel.getValue("images"),i.params),i.gettyImages=i.appContext.gettyHelper.getWidgetById(i.gettyWidgetId).widgetImages)})))).catch((e=>{a.error("Error with fetching getty-search-models",{err:e})}))},buildLayout:function(){var e,t,i=this,s=this.gettyImages,a=0,o=0,r=0,n=this.types[this.widgetType].rowCount;if(s){t=this.types[this.widgetType].layoutContainerWidth?this.types[this.widgetType].layoutContainerWidth:80*this.appContext.viewportData.getWidth()/100;var h=s.map((function(e){return Math.min(Number(parseFloat(e.maxDimensions.width/e.maxDimensions.height).toFixed(2)),i.types[i.widgetType].layoutMaxAr)}));return"searchPage"===this.widgetType&&this.appContext.flipper.isFlipped("enable-search-sidebar")&&this.appContext.viewportData.getWidth()>1080&&(t-=340),(e=this.getJustifiedLayout(h,t)).boxes.some((function(t,s){o<t.top&&(o=t.top,++a>=n&&(r=r||s,e.containerHeight=e.containerHeight-t.height-i.types[i.widgetType].layoutSpacing))})),r||(r=e.boxes.length),e.boxes=e.boxes.slice(0,r),e.boxes.forEach(((e,t)=>{var s=i.gettyImages[t],a=this.utmTrackingOptions.imageAsset;a.originalURL=s.referenceUri,e.displayUri=s.displayUri,e.url=this.appContext.gettyHelper.appendGettyTracking(a),e.gettyImageUrl=s.referenceUri,e.caption=s.caption})),e}},getJustifiedLayout:function(e,t){let i,s;return i=this.justifiedLayout(e,{containerWidth:t,containerPadding:0,forceAspectRatio:1,boxSpacing:{horizontal:this.types[this.widgetType].layoutSpacing,vertical:this.types[this.widgetType].layoutSpacing},targetRowHeight:this.types[this.widgetType].layoutRowHeight,targetRowHeightTolerance:this.types[this.widgetType].layoutRowHeightTolerance}),s=i.boxes.length*i.boxes[0].width,s<t&&t-s>this.types[this.widgetType].layoutSpacing?(this.appContext.gettyHelper.setImagesInWidget(this.gettyWidgetId,3),this.buildLayout()):i},buildContainer:function(){var e={apiFailed:this.apiFailed,iStockLogo:this.iStockLogoLocation,gettyPromoLink:this.appContext.gettyHelper.appendGettyTracking(this.utmTrackingOptions.promo),upgradeProLink:i.getProLandingPageUrl(i.UTM_HIDE_ADS_GETTY_SEARCH),typeClass:this.types[this.widgetType].typeClass,viewMoreFlipper:this.types[this.widgetType].viewMoreFlipper,randomClasses:this.randomClasses,widgetID:this.gettyWidgetId,gettyFlickrDiscountCode:this.gettyFlickrDiscountCode};return["searchPage","trendTagsPage","explorePage","tagsPage"].includes(this.widgetType)?(e.layout=this.apiFailed||YUI.Env.isServer?[]:this.buildLayout(),e.viewMoreLink=this.appContext.flipper.isFlipped("enable-getty-view-more-search")?this.appContext.gettyHelper.appendGettyTracking(this.utmTrackingOptions.viewMore):""):(e.layout=this.apiFailed||YUI.Env.isServer||!this.widgetIsInView?[]:this.buildLayout(),e.viewMoreLink=this.appContext.flipper.isFlipped("enable-getty-view-more-photo")?this.appContext.gettyHelper.appendGettyTracking(this.utmTrackingOptions.viewMore):""),this.setContainerWithTemplate("getty-widget",e),this},activate:function(){var t=this.get("container"),i=t,s=null;if(t&&"photoPage"===this.widgetType&&!this.widgetIsLoaded){for(;i&&!s;){var a=i.previous();a?s=a:i=i.get("parentNode")}s&&(this.bottom=s.getDOMNode().getBoundingClientRect().bottom),this.widgetLoadEventListener=this.registerEventHandler(e.globalEvents.subscribe("window:scroll",this.checkIfWidgetInViewport.bind(this)))}return this.buildContainer(),this.registerEventHandler(this.get("container").delegate("click",this.onGettyResultClick.bind(this),`.${this.randomClasses["getty-result"]}`)),this.registerEventHandler(this.get("container").delegate("click",this.onDiscountCodeClick.bind(this),`.${this.randomClasses["sponsor-discount-code"]}`)),this.registerEventHandler(this.get("container").delegate("click",this.onViewMoreTileClick.bind(this),`.${this.randomClasses["last-result-container"]}`)),this.registerEventHandler(e.on("resize",e.betterThrottle(this.onResize.bind(this),this.resizeThrottle,this,!0))),this.registerEventHandler(this.appContext.flapp.before("activeViewChange",this.handleViewChange.bind(this))),this},handleViewChange:function(){this.appContext.gettyHelper.clearCache()},getPositionalTag:function(){return this.params.layoutItem&&this.params.layoutItem.fullRowStatic&&"photo-list-getty-item-view"===this.params.layoutItem.name?this.params.layoutItem.siblingPosition:null},checkIfWidgetInViewport:function(){window.scrollY+window.innerHeight>=this.bottom+200&&(e.globalEvents.unsubscribe(this.widgetLoadEventListener),this.loadWidget())},loadWidget:function(){var e=this.get("container"),t=this;e&&(this.widgetIsInView=!0,this.widgetIsLoaded=!0,this.loadState().then((function(){t.buildContainer()})))},onResize:function(){this.buildContainer()},onGettyResultClick:function(t){let i=t.currentTarget;if(e.Snowplough&&i){let t=i.getAttribute("data-g-url"),s=parseInt(i.getAttribute("data-g-index"),10)+1;e.Snowplough.sendStructuredEvent({category:this.searchTerm,action:"gettyResultClick",label:this.types[this.widgetType].snowPlowLabel,property:t,value:s})}},onDiscountCodeClick:function(){e.Snowplough&&e.Snowplough.sendStructuredEvent({category:this.searchTerm,action:"gettyDiscountCodeClick",label:this.types[this.widgetType].snowPlowLabel})},onViewMoreTileClick:function(){e.Snowplough&&e.Snowplough.sendStructuredEvent({category:this.searchTerm,action:"gettyViewMoreTileClick",label:this.types[this.widgetType].snowPlowLabel})}})}),"@VERSION@",{requires:["flickr-view","hermes-template-getty-widget","getty-helper","getty-search-models"],optionalRequires:["hermes-core"],langBundles:["common"]});YUI.add("photo-list-getty-item-view",(function(e,t){e.namespace("Views")[this.name]=e.Base.create(this.name,e.PhotolistStaticItemView,[],{langBundles:this.details.langBundles,subviewConfig:{"getty-widget-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!0,type:"searchPage",inList:!0,disabled:function(){return!this.appContext.gettyHelper.canShowWidgetType("searchPage")}}},initializer:function(t){this.constructor.superclass.initializer.call(this,t),this.isMobile=t.isMobile,this.geo=t.geo||e.config.flickr.geo},activate:function(){return this.fire("activated"),this},updateNodeGeometry:function(e,t){this.constructor.superclass.updateNodeGeometry.call(this,e,t),YUI.Env.isServer||(this.triggerNewRender&&clearTimeout(this.triggerNewRender),this.triggerNewRender=setTimeout((()=>{this.setContainerHTML(this.render()),this.activate()}),500))},render:function(){return this.templates("photo-list-getty-item")({})}})}),"@VERSION@",{requires:["flickr-view","hermes-template-photo-list-getty-item","getty-widget-view"],optionalRequires:["fluid","storage-helper","hermes-core"],langBundles:[]});YUI.add("search-photos-everyone-view",(function(e){var t={"photo-models":{name:"photo-list-photo-view",params:{excludePeople:!0}},"photo-lite-models":{name:"photo-list-photo-view",params:{excludePeople:!0}},"photo-list-moola-item-view":{name:"photo-list-moola-item-view",params:null},"photo-list-getty-item-view":{name:"photo-list-getty-item-view",params:null}},i={jst:{rowHeight:170,subviewMapping:t},thm:{rowHeight:120,forceAspectRatio:1,subviewMapping:t},til:{rowHeight:210,forceAspectRatio:1,loadMoreMargin:5,subviewMapping:Object.assign({},t,{"photo-models":{name:"photo-list-tile-view",params:{excludePeople:!0,showDescription:!1}},"photo-lite-models":{name:"photo-list-tile-view",params:{excludePeople:!0,showDescription:!1}}})},desc:{rowHeight:210,itemSpacing:{horizontal:4,vertical:70},subviewMapping:{"photo-models":{name:"photo-list-description-view"},"photo-lite-models":{name:"photo-list-description-view"}}}};e.namespace("Views")[this.name]=e.Base.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(t){var a,o,s,r,h,l;let n=this.appContext.getViewer();if(h=t.rowHeightMod||1,"til"===t.viewType&&(h=Math.max(1,t.rowHeightMod)),""===this.get("container").get("innerHTML")&&this.setContainerWithTemplate("search-photos-everyone-view",{loading:!0}),t.viewType||(t.viewType="jst"),this.unifiedSubviewParams=t.unifiedSubviewParams||{},this.unifiedSubviewParams.everyone&&this.unifiedSubviewParams.everyone.fetchParams?(this.fetchParams=this.unifiedSubviewParams.everyone.fetchParams,this.apiParams=e.merge(this.fetchParams.apiParams||{}),this.searchId=this.unifiedSubviewParams.everyone.id):(this.apiParams={},this.fetchParams={}),this.searchUrl=new e.SearchUrl(this.apiParams,this.appContext,e.SearchUrl.searchTypes.PHOTOS),a=i[t.viewType].forceAspectRatio,o=i[t.viewType].loadMoreMargin,s=e.clone(i[t.viewType].subviewMapping),r=e.clone(i[t.viewType].itemSpacing),this.apiFailed=t.apiFailed,t.photoListConfig={modelParams:{registryName:"search-photos-lite-models",modelIdOrAttributes:this.searchId||this.searchUrl.getId(),collectionAttributeName:"photos",fetchParams:this.fetchParams},pageParams:{page:1,perPage:50,perPageDoubling:1},parentName:this.name,loadMoreMargin:3,engagementModelName:"photo-lite-models",injectPhotolistContextParams:{rapidBeaconConfig:{beaconName:"searchPhotoResultClick",itemIndexKey:"vespaRnk",searchSection:"photos-everyone",searchTerm:t.searchTerm}},measureAFT:!0,mobileLayout:t.allowMobileLayout?{}:null,scrollInterruptParams:{pageCounts:[5],footerToHideWhileScrolling:".footer-full-view"},layout:{containerPadding:{top:0,right:0,bottom:8,left:0},targetRowHeight:i[t.viewType].rowHeight*h,awakeBoundsToViewportSizeRatio:5},resizeThrottle:300,allowLazyLoading:!0},this.isMobile=t.isMobile,this.geo=t.geo||e.config.flickr.geo,!this.appContext.flipper.isFlipped("enable-full-row-getty-search")||n.isPro||this.isMobile||(t.photoListConfig.layout.staticViewsConfig={includeStaticViews:!0,isFullRow:!0,dynamicCadence:!0,staticViewsQueueLength:1e4,fullRowMinHeight:260,staticViewsName:"photo-list-getty-item-view"}),a&&(t.photoListConfig.layout.forceAspectRatio=a),o&&(t.photoListConfig.layout.loadMoreMargin=o),s&&(t.photoListConfig.subviewMapping=s,this.searchUrl.getAPIParam(e.SearchHelper.UNIFIED_STATE_PARAMS.viewAll)&&this.searchUrl.getAPIParam(e.SearchHelper.API.userId)||t.suppressExcludePeople))for(l in s)t.photoListConfig.subviewMapping[l].params&&(t.photoListConfig.subviewMapping[l].params.excludePeople=!1);return r&&(t.photoListConfig.layout.itemSpacing=r),t.viewType===e.Models["person-preferences-models"].UNIFIED_SEARCH_VIEW_TYPES.justified&&(t.photoListConfig.layout.itemSpacing={horizontal:4,vertical:4}),this.rowHeightMod=t.rowHeightMod,this.appContext.flipper.isFlipped("enable-search-to-organizr")&&t.modelParams.viewerNsid===t.modelParams.apiParams.user_id&&(this.isViewerSearchingSelf=!0),this},subviewConfig:{"photo-list-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!0,disabled:function(){return this.apiFailed}}},loadState:function(){var t=this;return this.apiFailed?e.Promise.resolve():this.appContext.getModel("search-photos-lite-models",this.searchId||this.searchUrl.getId(),this.fetchParams).then((function(i){return t.searchModel=i,e.SearchHelper.deriveScopeTitle(t.apiParams,t.appContext)})).then((function(e){t.scopeTitle=t.intlMessage(e)}))},buildContainer:function(){return this.setContainerWithTemplate("search-photos-everyone-view",{validResults:this.searchModel&&this.searchModel.getValue("totalItems")>0,photoListTitle:this.scopeTitle,viewAllLink:this.searchUrl.clone().setAPIParam(e.SearchHelper.UNIFIED_STATE_PARAMS.viewAll,!0).getURL(),photoCount:this.apiFailed?"":this.searchModel.getValue("totalItems"),singleResult:!this.apiFailed&&1===this.searchModel.getValue("totalItems"),"photo-list-view":this.apiFailed?"":this.subviews["photo-list-view"].get("container"),viewAll:this.apiParams[e.SearchHelper.UNIFIED_STATE_PARAMS.viewAll],isViewerSearchingSelf:this.isViewerSearchingSelf}),this},buildHeadContainer:function(){var t,i,a=this.searchModel,o=a?a.getValue("photos").getList():[],s=this.intlMessage({intlName:"search.FLICKR_SEARCH"})+(this.apiParams.text?" — “"+this.apiParams.text+"”":"");t=o.length>0?o[0].getSizeToFit({width:640,height:480}):{},i=this.templates("dynamic-page-head")({title:s,url:this.searchUrl.getURL(),embedUrl:this.searchUrl.getURL(),oembedURL:this.searchUrl?encodeURIComponent(e.url(this.searchUrl.getURL())):null,fullURL:this.searchUrl?e.url(this.searchUrl.getURL()):null,openGraphImageURL:t.url?e.URLHelper.addProtocolToURL(t.url):null,openGraphImageWidth:t.width,openGraphImageHeight:t.height,ownerURL:e.url(),ogType:"article",twitterCardType:"player"}),i+=this.templates("head-meta")({isName:!0,metaName:"viewport",metaValue:"width=device-width, viewport-fit=cover, initial-scale=1, maximum-scale=1"}),this.subviews["photo-list-view"]?(this.set("headContainer",i.concat(this.subviews["photo-list-view"].get("headContainer"))),this.subviews["photo-list-view"].handleResize(null,!0)):this.set("headContainer",i),YUI.Env.isServer||this.updateHead()},activate:function(){return this.isViewerSearchingSelf&&this.get("container").one(".search-to-organizr").on("click",this.onEditInOrganizrClick.bind(this)),e.Snowplough&&e.Snowplough.sendSearchEvent({keyword:this.apiParams.text,category:"photos",totalResults:this.searchModel?this.searchModel.getValue("totalItems"):0,pageResults:this.searchModel?this.searchModel.getValue("photos").getList().length:0}),this},onParentViewEvent:function(e,t){if("search:layoutChange"===(t&&t.length&&t[0]))t[1]&&this.handleLayoutChange(t[1])},handleLayoutChange:function(t){var a=this.subviews["photo-list-view"],o=a.photoListLayout,s=i[t].forceAspectRatio,r=i[t].loadMoreMargin,h=e.clone(i[t].subviewMapping),l=this.rowHeightMod;i.hasOwnProperty(t)&&("til"===t&&(l=Math.max(1,l)),o.targetRowHeight=i[t].rowHeight*l,o.forceAspectRatio=s,o.loadMoreMargin=r,a.subviewMapping=h,a.setItems(this.searchModel.getValue("photos").getList()))},onEditInOrganizrClick:function(e){e.preventDefault(),e.stopPropagation();let t=[];this.isViewerSearchingSelf&&(this.searchModel.getValue("totalItems")>0&&this.searchModel.getValue("photos").getList().forEach((function(e){t.push(e.id)})),this.appContext.flapp.navigate("/photos/organize?ids="+t.join(",")))}})}),"@VERSION@",{requires:["flickr-view","photo-list-view","flickr-promise","search-url","hermes-template-search-photos-everyone-view","hermes-template-dynamic-page-head","hermes-template-head-meta","search-helper","flutil","search-photos-lite-models","person-preferences-models","url","url-helper","photo-list-getty-item-view"],langBundles:["search"]});YUI.add("hermes-template-footer-full",(function(t,l){var n=t.Template.Handlebars.revive({1:function(t,l,n,e,a){return" sohp"},3:function(t,l,n,e,a){var s,o=null!=l?l:t.nullContext||{},i=t.hooks.helperMissing,c=t.escapeExpression,r=t.lookupProperty||function(t,l){if(Object.prototype.hasOwnProperty.call(t,l))return t[l]};return'\t\t\t\t\t<li class="foot-li privacy-item"><a href="/help/privacy">'+c((r(n,"intlMessage")||l&&r(l,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.PRIVACY"},data:a,loc:{start:{line:19,column:62},end:{line:19,column:103}}}))+'</a></li>\n\t\t\t\t\t<li class="foot-li terms-item"><a href="/help/terms">'+c((r(n,"intlMessage")||l&&r(l,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.TERMS"},data:a,loc:{start:{line:20,column:58},end:{line:20,column:97}}}))+"</a></li>\n"+(null!=(s=(r(n,"isFlipped")||l&&r(l,"isFlipped")||i).call(o,"enable-cookie-consent-execution-hermes",{name:"isFlipped",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a,loc:{start:{line:21,column:5},end:{line:23,column:19}}}))?s:"")},4:function(t,l,n,e,a){var s=t.lookupProperty||function(t,l){if(Object.prototype.hasOwnProperty.call(t,l))return t[l]};return'\t\t\t\t\t\t<li class="foot-li trustarc-cookie-pref-item"><a class="trustarc-cookie-pref-link" href="/help/cookies">'+t.escapeExpression((s(n,"intlMessage")||l&&s(l,"intlMessage")||t.hooks.helperMissing).call(null!=l?l:t.nullContext||{},{name:"intlMessage",hash:{intlName:"policy-terms.COOKIES"},data:a,loc:{start:{line:22,column:110},end:{line:22,column:157}}}))+"</a></li>\n"},6:function(t,l,n,e,a){return'\t\t\t\t\t<li class="foot-li footer-company-item">\n\t\t\t\t\t\t<div class="foot-company">\n\t\t\t\t\t\t\t<a class="awesome-link" href="https://www.awesome.co/" target="_blank">\n\t\t\t\t\t\t\t\t<svg class="icon icon-awesome-logo-mono"><use xlink:href="#icon-awesome-logo-mono"></use></svg>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n'},8:function(t,l,n,e,a){var s=t.lookupProperty||function(t,l){if(Object.prototype.hasOwnProperty.call(t,l))return t[l]};return'\t\t\t\t<div class="foot-company">\n\t\t\t\t\t<span class="foot-attribution">\n\t\t\t\t\t\t<a class="awesome-link" href="https://www.awesome.co/" target="_blank">\n\t\t\t\t\t\t\t<svg class="icon icon-awesome-logo-mono"><use xlink:href="#icon-awesome-logo-mono"></use></svg>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</span>\n\t\t\t\t\t<span class="foot-message">\n\t\t\t\t\t\t'+t.escapeExpression((s(n,"intlMessage")||l&&s(l,"intlMessage")||t.hooks.helperMissing).call(null!=l?l:t.nullContext||{},{name:"intlMessage",hash:{intlName:"common.CONNECTING_PEOPLE_THROUGH_PHOTOGRAPHY"},data:a,loc:{start:{line:76,column:6},end:{line:76,column:77}}}))+"\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n"},10:function(t,l,n,e,a){return'\t\t\t\t<div class="foot-company empty">\n\t\t\t\t\t&nbsp;\n\t\t\t\t</div>\n'},compiler:[8,">= 4.3.0"],main:function(t,l,n,e,a){var s,o=null!=l?l:t.nullContext||{},i=t.hooks.helperMissing,c=t.escapeExpression,r=t.lambda,m=t.lookupProperty||function(t,l){if(Object.prototype.hasOwnProperty.call(t,l))return t[l]};return'<div class="foot-banner-container"></div>\n\n<footer class="foot'+(null!=(s=m(n,"if").call(o,null!=l?m(l,"isSOHP"):l,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a,loc:{start:{line:3,column:19},end:{line:3,column:45}}}))?s:"")+'">\n\t<div class="foot-container desktop-layout" role="contentinfo">\n\t\t<div class="foot-top-row">\n\t\t\t<ul class="foot-top-nav foot-nav-ul">\n\t\t\t\t<li class="foot-li"><a href="/about">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.ABOUT"},data:a,loc:{start:{line:7,column:41},end:{line:7,column:80}}}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="/jobs">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.JOBS"},data:a,loc:{start:{line:8,column:40},end:{line:8,column:78}}}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a target="_blank" href="//blog.flickr.net/en">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.BLOG"},data:a,loc:{start:{line:9,column:71},end:{line:9,column:109}}}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a target="_blank" href="https://www.flickrads.com?utm_source=flickr&utm_campaign=footer">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.ADVERTISE"},data:a,loc:{start:{line:10,column:114},end:{line:10,column:157}}}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="/services/developer">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.DEVELOPERS"},data:a,loc:{start:{line:11,column:54},end:{line:11,column:98}}}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="/help/guidelines">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.GUIDELINES"},data:a,loc:{start:{line:12,column:51},end:{line:12,column:95}}}))+'</a></li>\n\t\t\t\t<li class="foot-li footer-privacy-item"><a href="/help/privacy">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.PRIVACY"},data:a,loc:{start:{line:13,column:68},end:{line:13,column:109}}}))+'</a></li>\n\t\t\t\t<li class="foot-li footer-terms-item"><a href="/help/terms">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.TERMS"},data:a,loc:{start:{line:14,column:64},end:{line:14,column:103}}}))+'</a></li>\n\t\t\t\t<li class="foot-li footer-help-item"><a target="_blank" href="//flickrhelp.com">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.HELP"},data:a,loc:{start:{line:15,column:84},end:{line:15,column:122}}}))+'</a></li>\n\t\t\t\t<li class="foot-li footer-report-item"><a href="/abuse">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.REPORT_ABUSE"},data:a,loc:{start:{line:16,column:60},end:{line:16,column:106}}}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="/help/forum">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.HELP_FORUM"},data:a,loc:{start:{line:17,column:46},end:{line:17,column:90}}}))+"</a></li>\n"+(null!=(s=m(n,"if").call(o,null!=l?m(l,"isSOHP"):l,{name:"if",hash:{},fn:t.program(3,a,0),inverse:t.noop,data:a,loc:{start:{line:18,column:4},end:{line:24,column:11}}}))?s:"")+'\t\t\t\t<li class="foot-li lang-switcher">\n\t\t\t\t\t<a href="/change_language.gne?lang='+c(r(null!=(s=null!=l?m(l,"selectedLang"):l)?m(s,"code"):s,l))+"&csrf="+c(r(null!=(s=null!=l?m(l,"selectedLang"):l)?m(s,"csrf"):s,l))+'">'+c(r(null!=(s=null!=l?m(l,"selectedLang"):l)?m(s,"name"):s,l))+'</a>\n\t\t\t\t\t<span class="arrow"></span>\n\t\t\t\t</li>\n'+(null!=(s=m(n,"if").call(o,null!=l?m(l,"showCompany"):l,{name:"if",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a,loc:{start:{line:29,column:4},end:{line:37,column:11}}}))?s:"")+'\t\t\t\t<li class="foot-li footer-social-item">\n\t\t\t\t\t<div class="foot-social">\n\t\t\t\t\t\t<ul class="foot-nav-ul">\n\t\t\t\t\t\t\t<li><a target="_blank" href="https://www.facebook.com/flickr" aria-label="Facebook">\n\t\t\t\t\t\t\t\t<svg class="ft-icon ft-facebook"><use xlink:href="#icon-facebook"></use></svg>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li><a target="_blank" href="https://twitter.com/flickr" aria-label="Twitter">\n\t\t\t\t\t\t\t\t<svg class="ft-icon ft-twitter"><use xlink:href="#icon-twitter"></use></svg>\n\t\t\t\t\t\t\t</a></li>\n\t\t\t\t\t\t\t<li><a target="_blank" href="https://www.instagram.com/flickr/" aria-label="Instagram">\n\t\t\t\t\t\t\t\t<svg class="ft-icon ft-instagram"><use xlink:href="#icon-instagram"></use></svg>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t\t<div class="foot-bottom-row">\n\t\t\t<div class="foot-row-content">\n\t\t\t\t<ul class="foot-nav-ul">\n\t\t\t\t\t<li class="foot-li"><a href="/help/privacy">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.PRIVACY"},data:a,loc:{start:{line:60,column:49},end:{line:60,column:90}}}))+'</a></li>\n\t\t\t\t\t<li class="foot-li"><a href="/help/terms">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.TERMS"},data:a,loc:{start:{line:61,column:47},end:{line:61,column:86}}}))+"</a></li>\n"+(null!=(s=(m(n,"isFlipped")||l&&m(l,"isFlipped")||i).call(o,"enable-cookie-consent-execution-hermes",{name:"isFlipped",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a,loc:{start:{line:62,column:5},end:{line:64,column:19}}}))?s:"")+"\t\t\t\t</ul>\n\t\t\t</div>\n\n"+(null!=(s=m(n,"if").call(o,null!=l?m(l,"showCompany"):l,{name:"if",hash:{},fn:t.program(8,a,0),inverse:t.program(10,a,0),data:a,loc:{start:{line:68,column:3},end:{line:83,column:10}}}))?s:"")+'\n\t\t\t<div class="foot-social">\n\t\t\t\t<ul class="foot-nav-ul">\n\t\t\t\t\t<li><a target="_blank" href="https://www.facebook.com/flickr" aria-label="Facebook">\n\t\t\t\t\t\t<svg class="ft-icon ft-facebook"><use xlink:href="#icon-facebook"></use></svg>\n\t\t\t\t\t</a></li>\n\t\t\t\t\t<li><a target="_blank" href="https://twitter.com/flickr" aria-label="Twitter">\n\t\t\t\t\t\t<svg class="ft-icon ft-twitter"><use xlink:href="#icon-twitter"></use></svg>\n\t\t\t\t\t</a></li>\n\t\t\t\t\t<li><a target="_blank" href="https://www.instagram.com/flickr/" aria-label="Instagram">\n\t\t\t\t\t\t<svg class="ft-icon ft-instagram"><use xlink:href="#icon-instagram"></use></svg>\n\t\t\t\t\t</a></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="foot-container mobile-layout">\n\t\t<div class="foot-top-row">\n\t\t\t<ul class="foot-top-nav foot-nav-ul">\n\t\t\t\t<li class="foot-li"><a href="/about">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.ABOUT"},data:a,loc:{start:{line:103,column:41},end:{line:103,column:80}}}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="/jobs">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.JOBS"},data:a,loc:{start:{line:104,column:40},end:{line:104,column:78}}}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a target="_blank" href="//blog.flickr.net/en">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.BLOG"},data:a,loc:{start:{line:105,column:71},end:{line:105,column:109}}}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a target="_blank" href="https://www.flickrads.com?utm_source=flickr&utm_campaign=footer">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.ADVERTISE"},data:a,loc:{start:{line:106,column:114},end:{line:106,column:157}}}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="/services/developer">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.DEVELOPERS"},data:a,loc:{start:{line:107,column:54},end:{line:107,column:98}}}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="/help/guidelines">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.GUIDELINES"},data:a,loc:{start:{line:108,column:51},end:{line:108,column:95}}}))+'</a></li>\n\t\t\t\t<li class="foot-li footer-report-item"><a href="/abuse">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.REPORT_ABUSE"},data:a,loc:{start:{line:109,column:60},end:{line:109,column:106}}}))+'</a></li>\n\t\t\t\t<li class="foot-li footer-privacy-item"><a href="/help/privacy">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.PRIVACY"},data:a,loc:{start:{line:110,column:68},end:{line:110,column:109}}}))+'</a></li>\n\t\t\t\t<li class="foot-li footer-terms-item"><a href="/help/terms">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.TERMS"},data:a,loc:{start:{line:111,column:64},end:{line:111,column:103}}}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="/help/forum">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.HELP_FORUM"},data:a,loc:{start:{line:112,column:46},end:{line:112,column:90}}}))+'</a></li>\n\t\t\t\t<li class="foot-li lang-switcher">\n\t\t\t\t\t<a href="/change_language.gne?lang='+c(r(null!=(s=null!=l?m(l,"selectedLang"):l)?m(s,"code"):s,l))+"&csrf="+c(r(null!=(s=null!=l?m(l,"selectedLang"):l)?m(s,"csrf"):s,l))+'">'+c(r(null!=(s=null!=l?m(l,"selectedLang"):l)?m(s,"name"):s,l))+'</a>\n\t\t\t\t\t<span class="arrow"></span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t\t<div class="foot-bottom-row">\n\t\t\t<div class="foot-row-content">\n\t\t\t\t<ul class="foot-nav-ul">\n\t\t\t\t\t<li class="foot-li"><a href="/help/privacy">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.PRIVACY"},data:a,loc:{start:{line:122,column:49},end:{line:122,column:90}}}))+'</a></li>\n\t\t\t\t\t<li class="foot-li"><a href="/help/terms">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.TERMS"},data:a,loc:{start:{line:123,column:47},end:{line:123,column:86}}}))+"</a></li>\n"+(null!=(s=(m(n,"isFlipped")||l&&m(l,"isFlipped")||i).call(o,"enable-cookie-consent-execution-hermes",{name:"isFlipped",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a,loc:{start:{line:124,column:5},end:{line:126,column:19}}}))?s:"")+'\t\t\t\t\t<li class="foot-li footer-help-item"><a target="_blank" href="//flickrhelp.com">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.HELP"},data:a,loc:{start:{line:127,column:85},end:{line:127,column:123}}}))+"</a></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\n"+(null!=(s=m(n,"if").call(o,null!=l?m(l,"showCompany"):l,{name:"if",hash:{},fn:t.program(8,a,0),inverse:t.program(10,a,0),data:a,loc:{start:{line:131,column:3},end:{line:146,column:10}}}))?s:"")+'\n\t\t\t<div class="foot-social">\n\t\t\t\t<ul class="foot-nav-ul">\n\t\t\t\t\t<li><a target="_blank" href="https://www.facebook.com/flickr" aria-label="Facebook">\n\t\t\t\t\t\t<svg class="ft-icon ft-facebook"><use xlink:href="#icon-facebook"></use></svg>\n\t\t\t\t\t</a></li>\n\t\t\t\t\t<li><a target="_blank" href="https://twitter.com/flickr" aria-label="Twitter">\n\t\t\t\t\t\t<svg class="ft-icon ft-twitter"><use xlink:href="#icon-twitter"></use></svg>\n\t\t\t\t\t</a></li>\n\t\t\t\t\t<li><a target="_blank" href="https://www.instagram.com/flickr/" aria-label="Instagram">\n\t\t\t\t\t\t<svg class="ft-icon ft-instagram"><use xlink:href="#icon-instagram"></use></svg>\n\t\t\t\t\t</a></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</footer>\n'},useData:!0}),e={};t.Array.each([],(function(l){var n=t.Template.get("hermes/"+l);n&&(e[l]=n)})),t.Template.register("hermes/footer-full",(function(l,a){return(a=a||{}).partials=a.partials?t.merge(e,a.partials):e,n(l,a)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("report-abuse-helper",(function(e,o){require("hermes-core/flog")(o);e.ReportAbuseHelper={showReportModal:function(o){var t,n,i=e.mix({langBundles:["common","welcome"],appContext:o},e.Localizable),l=["group-home-route","group-discussions-list-route","group-pool-route","group-members-route","group-discussion-route"].includes(o.routeConfig.module),r=["photostream-route","photo-route","profile-route","albums-list-route","favorites-route","galleries-route","groups-list-route"].includes(o.routeConfig.module),s=l?"https://flickrhelp.com/hc/en-us/requests/new":"https://flickrhelp.com/hc/en-us/articles/4404057906068-How-to-report-Community-Guidelines-violations";r?(t=new e.Views.FlagModal({appContext:o,contentUrl:e.url(o.flapp.getPath())}),n=new e.Views.FluidModal({appContext:o,subview:t,hasSubviewConfigRefactor:!0})):n=new e.Views.FluidModal({appContext:o,subview:new e.Views["confirmation-dialog-view"]({appContext:o,title:i.intlMessage({intlName:"common.REPORT_ABUSE"}),confirmButtonText:i.intlMessage({intlName:l?"welcome.CONTINUE":"common.CONTINUE_ARTICLE"}),cancelButtonText:i.intlMessage({intlName:l?"common.CANCEL":"common.CLOSE"}),htmlMessage:i.intlHTMLMessage({intlName:l?"common.REPORT_GROUP":"common.REPORT_NOT_SUPPORTED",helpUrl:s}),onConfirm:async(o,t)=>{e.config.win.location.href=s}}),hasSubviewConfigRefactor:!0}),n.show()}}}),"@VERSION@",{requires:["event-custom","url"],optionalRequires:["hermes-core"],langBundles:["common","welcome"]});YUI.add("hermes-lang-welcome",(function(e,t){e.Intl.add("hermes/welcome","en-US",{WELCOME_BACK_TO_FLICKR:[{type:0,value:"Welcome back to Flickr, "},{type:1,value:"FIRSTNAME"},{type:0,value:" "},{type:1,value:"LASTNAME"}],ALMOST_FINISHED_COUPLE_MORE_DETAILS:[{type:0,value:"We’re almost finished setting up your account. Just a couple more details and we’ll be all set."}],FLICKR_SCREEN_NAME:[{type:0,value:"Flickr screen name"}],CHANGE_YOUR_SCREEN_NAME_TO_ANYTHING:[{type:0,value:"You are welcome to change your Flickr screen name to anything you’d like."}],CONTACT_EMAIL:[{type:0,value:"Contact email"}],NOTIFICATIONS_WILL_BE_SENT_TO:[{type:0,value:"Notifications on your account, such as when your friends find you, will be sent to:"}],ADD_ANOTHER_EMAIL:[{type:0,value:"Add another email"}],REMEMBER_TO_LOG_WITH_YAHOO_ID:[{type:0,value:"Remember to log into Flickr with your Yahoo ID"}],SKIP:[{type:0,value:"Skip"}],CONTINUE:[{type:0,value:"Continue"}],OCCASIONALLY_SEND_NOTIFICATIONS:[{type:0,value:"Occasionally we’ll send notifications and updates from friends to this email."}],PREFERRED_EMAIL_DESCRIPTION:[{type:0,value:"Preferred email to get photos, updates, and messages."}]})}),"@VERSION@",{requires:["intl"]});